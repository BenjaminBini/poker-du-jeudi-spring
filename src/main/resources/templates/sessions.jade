extends layout.jade

block content
    .container
        .row
            .col
                ul#pills-tab.nav.nav-pills.mb-3(role='tablist')
                    each season, index in seasons
                        li.nav-item
                            if index == 0
                                a.nav-link.active(id="#pills-#{season.name}-tab", data-toggle='pill' href='#pills-#{season.name}' role='tab' aria-controls='pills-#{season.name}' aria-selected='true') #{season.name}
                            else
                                a.nav-link(id="#pills-#{season.name}-tab", data-toggle='pill' href='#pills-#{season.name}' role='tab' aria-controls='pills-#{season.name}' aria-selected='true') #{season.name}
        .row
            .col
                #pills-tabContent.tab-content
                    each season, index in seasons
                        .tab-pane.fade.show(id='pills-#{season.name}', class='#{index == 0 ? "active" : ""}', role='tabpanel', aria-labelledby='pills-#{season.name}-tab')
                            table.table.table-striped
                                thead.thead-dark
                                    tr
                                        th(scope='col') Date
                                        th(scope='col') Joueurs
                                        th(scope='col') Vainqueur
                                        th(scope='col') Perdant
                                        th(scope='col') Lieu
                                        th(scope='col')
                                tbody
                                    if sessions[season.seasonId] != null
                                        each session in sessions[season.seasonId]
                                            tr
                                                td
                                                    a(href='/sessions/#{session.sessionId}') #{session.displayDate()}
                                                td #{session.playerResults.size()}
                                                td #{session.bestResult.player.firstName} (#{session.bestResult.result} €)
                                                td #{session.worstResult.player.firstName} (#{session.worstResult.result} €)
                                                td #{session.place.name}
                                                td
                                                    a.btn.btn-secondary.btn-sm.icon-button.float-right.ml-2(href="/sessions/#{session.sessionId}")
                                                        i.material-icons info
                                                    a.btn.btn-secondary.btn-sm.icon-button.float-right(href="/sessions/delete/#{session.sessionId}")
                                                        i.material-icons delete
                                    else
                                        tr
                                            td(colspan=5)
                                                i Aucune donnée
        .row
            .col
                a.btn.btn-outline-secondary.mt-3(href="/sessions/add") Ajouter une session
